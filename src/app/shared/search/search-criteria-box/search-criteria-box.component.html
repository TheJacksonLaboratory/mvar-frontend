<div class="card">
  <div class="card-body">

      <div class="row">
        <div *ngIf="searchType === 'sample'"class="col-md-2">
          <mat-form-field>
            <mat-label>Study</mat-label>
            <mat-select [(value)]="selectedStudy" disableOptionCentering (selectionChange)="onSampleStudyChange($event.value)">
              <mat-option *ngFor="let study of studyOptions"
                          value="{{study}}">{{study}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-md-9">
          <app-search-box [searchType]="searchType" (selectedSearchItem)="onSelectedItem($event)"></app-search-box>
        </div>
      </div>

    <div class="row">
      <div class="col-md-12">
          <mat-chip-list #chipList aria-label="Search criteria selection">
            <mat-chip
              *ngFor="let searchTerm of searchCriteria.selectedItems"
              [selectable]="selectable"
              [removable]="removable"
              (removed)="remove(searchTerm)">
              {{searchTerm.selectedType}} : {{searchTerm.displayedValue}}
              <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
            </mat-chip>
          </mat-chip-list>
      </div>
    </div>

    <!-- ****** SNPS and INDEL var filters ***** -->

    <div *ngIf="showVarFilters && searchType === 'variant'" class="row">
      <div class="col-md-10">
          <section class="example-section">
            <label class="mat-checkbox-layout"><b>MMR Analysis:</b></label>
            <mat-checkbox class="example-margin" [(ngModel)]="rareVariantsCheck" (change)="onSearchCriteriaChange('', true,'')">Low Frequency Variants (< 1%) </mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="mutantCandidatesCheck" (change)="onSearchCriteriaChange('',true,'')" >Mutant Candidates (likely pathogenic) </mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="confirmedMutationsCheck" (change)="onSearchCriteriaChange('',true,'')">Confirmed Mutation (pathogenic)</mat-checkbox>
          </section>
      </div>
    </div>

    <div *ngIf="showVarFilters && searchType === 'variant'" class="row">
      <div class="col-md-6">

            <!--<label class="mat-checkbox-layout"><b>Variant type:</b></label>-->
        <!--style="background-color:lightcyan-->
        <div class="row">
          <div class="col-md-12">
            <label class="mat-checkbox-layout"><b>Variant type:</b></label>
            <mat-checkbox class="example-margin" [(ngModel)]="varTypeSNP" (change)="onSearchCriteriaChange('varType', varTypeSNP, 'SNP')">SNP </mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="varTypeINS" (change)="onSearchCriteriaChange('varType', varTypeINS, 'INS')">Insertion </mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="varTypeDEL" (change)="onSearchCriteriaChange('varType', varTypeDEL, 'DEL')" >Deletion</mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="varTypeUN" (change)="onSearchCriteriaChange('varType', varTypeUN, 'UN')">Unknown</mat-checkbox>
            </div>
        </div>
        <div class="row">
          <div class="col-md-12">
              <section class="example-section">
              <label class="mat-checkbox-layout"><b>Functional Class:</b></label>
            <mat-checkbox class="example-margin" [(ngModel)]="varFuncClassMISSENSE" (change)="onSearchCriteriaChange('varFuncClass', varFuncClassMISSENSE, 'MISSENSE')">Missense </mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="varFuncClassSILENT" (change)="onSearchCriteriaChange('varFuncClass', varFuncClassSILENT, 'SILENT')" >Silent</mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="varFuncClassNONSENSE" (change)="onSearchCriteriaChange('varFuncClass', varFuncClassNONSENSE, 'NONSENSE')">Nonsense</mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="varFuncClassNONE" (change)="onSearchCriteriaChange('varFuncClass', varFuncClassNONE, 'NONE')">None</mat-checkbox>
              </section>
            </div>
        </div>
        <div class="row">
          <div class="col-md-12">

              <label class="mat-checkbox-layout"><b>Impact:</b> </label>
              <mat-checkbox class="example-margin" [(ngModel)]="varImpactHIGH" (change)="onSearchCriteriaChange('varImpact', varImpactHIGH, 'HIGH')">High</mat-checkbox>
              <mat-checkbox class="example-margin" [(ngModel)]="varImpactMODERATE" (change)="onSearchCriteriaChange('varImpact', varImpactMODERATE, 'MODERATE')" >Moderate</mat-checkbox>
              <mat-checkbox class="example-margin" [(ngModel)]="varImpactLOW" (change)="onSearchCriteriaChange('varImpact', varImpactLOW, 'LOW')">Low</mat-checkbox>
              <mat-checkbox class="example-margin" [(ngModel)]="varImpactMODIFIER" (change)="onSearchCriteriaChange('varImpact', varImpactMODIFIER, 'MODIFIER')">Modifier</mat-checkbox>

          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <section class="example-section">
              <span>
                <label class="mat-checkbox-layout"><b>Quality:</b> </label>
                <mat-checkbox class="example-margin" [(ngModel)]="varLowQual" (change)="onSearchCriteriaChange('',true,'')">Show low quality variants</mat-checkbox>
              </span>

              <span>
                &nbsp;&nbsp;<label class="mat-checkbox-layout"><b>Identifier:</b> </label>
                <mat-checkbox class="example-margin" [(ngModel)]="withoutExternalId" (change)="onSearchCriteriaChange('',true,'')">Without dbSNP ID</mat-checkbox>
              </span>
            </section>
            </div>
        </div>
      </div>
      <div class="col-md-6">
        <div>
          <div class="row">
            <div class="col-md-6">
            <label class="mat-checkbox-layout"><b>Region: </b></label>
            </div>
            <div class="col-md-6">
              <mat-form-field>
                <mat-label>Chr</mat-label>
                <mat-select [(value)]="selectedChr">
                  <mat-option *ngFor="let chr of chromosomes" (onSelectionChange)="setChromosome(chr.value, $event)" [value]="chr.value">{{chr.viewValue}}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
            <mat-form-field class="example-full-width">
              <input [disabled]="selectedChr === 'All'" numbersOnly matInput placeholder="Start Position" [(ngModel)]="startPos">
            </mat-form-field>
            </div>

            <div class="col-md-6">
            <mat-form-field class="example-full-width">
              <input [disabled]="selectedChr === 'All'" numbersOnly matInput placeholder="End Position" [(ngModel)]="endPos">
            </mat-form-field>
            </div>
          </div>
        </div>
          <!--<div>-->
            <!--<label class="mat-checkbox-layout"><b>Source:</b> </label>-->
            <!--<mat-checkbox class="example-margin" [(ngModel)]="varImpactHIGH" (change)="onSearchCriteriaChange('varImpact', varImpactHIGH, 'HIGH')">Whole Genome</mat-checkbox>-->
            <!--<mat-checkbox class="example-margin" [(ngModel)]="varImpactMODERATE" (change)="onSearchCriteriaChange('varImpact', varImpactMODERATE, 'MODERATE')" >Whole Exome</mat-checkbox>-->
          <!--</div>-->
      </div>
    </div>

    <!-- ****** Structural var filters ***** -->

    <div *ngIf="showVarFilters && searchType === 'svVariant'" class="row">
      <div class="col-md-12">
        <section class="example-section">
          <label class="mat-checkbox-layout"><b>MMR Analysis:</b></label>
          <mat-checkbox class="example-margin" [(ngModel)]="rareVariantsCheck" (change)="onSearchCriteriaChange('', true,'')">Low Frequency Variants (< 1%) </mat-checkbox>
          <mat-checkbox class="example-margin" [(ngModel)]="mutantCandidatesCheck" (change)="onSearchCriteriaChange('',true,'')" >Mutant Candidates (likely pathogenic) </mat-checkbox>
          <mat-checkbox class="example-margin" [(ngModel)]="confirmedMutationsCheck" (change)="onSearchCriteriaChange('',true,'')">Confirmed Mutation (pathogenic)</mat-checkbox>
        </section>
      </div>
    </div>

    <div *ngIf="showVarFilters && searchType === 'svVariant'" class="row">
      <div class="col-md-6">
        <!--<section class="example-section">-->

        <div class="row">
          <div class="col-md-12">
            <label class="mat-checkbox-layout"><b>Variant Type:</b></label>
            <mat-checkbox class="example-margin" [(ngModel)]="svVarTypeINS" (change)="onSearchCriteriaChange('varType', svVarTypeINS, 'INS')">Insertion </mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="svVarTypeINV" (change)="onSearchCriteriaChange('varType', svVarTypeINV, 'INV')">Inversion </mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="svVarTypeDEL" (change)="onSearchCriteriaChange('varType', svVarTypeDEL, 'DEL')" >Deletion</mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="svVarTypeDUP" (change)="onSearchCriteriaChange('varType', svVarTypeDUP, 'DUP')">Duplication</mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="svVarTypeTRA" (change)="onSearchCriteriaChange('varType', svVarTypeTRA, 'TRA')">Translocation</mat-checkbox>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <section class="example-section">
              <span>
                <label class="mat-checkbox-layout"><b>Quality:</b> </label>
                <mat-checkbox class="example-margin" [(ngModel)]="varLowQual" (change)="onSearchCriteriaChange('',true,'')">Show low quality variants</mat-checkbox>
              </span>
              <span>
                <label class="mat-checkbox-layout"><b>Region:</b> </label>
                <mat-checkbox class="example-margin" [(ngModel)]="svInExon" (change)="onSearchCriteriaChange('',true,'')">In Exon</mat-checkbox>
              </span>
            </section>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="row">
          <div class="col-md-6">
            <label class="mat-checkbox-layout"><b>Region: </b></label>
          </div>
          <div class="col-md-6">
            <mat-form-field>
              <mat-label>Chr</mat-label>
              <mat-select [(value)]="selectedChr">
                <mat-option *ngFor="let chr of chromosomes" (onSelectionChange)="setChromosome(chr.value, $event)" [value]="chr.value">{{chr.viewValue}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <mat-form-field class="example-full-width">
              <input [disabled]="selectedChr === 'All'" numbersOnly matInput placeholder="Start Position" [(ngModel)]="startPos">
            </mat-form-field>
          </div>

          <div class="col-md-6">
            <mat-form-field class="example-full-width">
              <input [disabled]="selectedChr === 'All'" numbersOnly matInput placeholder="End Position" [(ngModel)]="endPos">
            </mat-form-field>
          </div>
        </div>

      </div>
    </div>

    <div *ngIf="showVarFilters" class="row">
      <div class="col-md-12">
        <!--<section class="example-section">-->
        <span class="pull-right">
            <a mat-button color="blue-myblue" class="nav-link active" (click)="updateSearch()">
              <i class="material-icons">update</i> Refresh
              <div class="ripple-container"></div>
            </a>
          <!--</span>-->
          <!--<span class="pull-right">-->
            <a mat-button color="blue-myblue" class="nav-link active" (click)="hideFilters()">
              <i class="material-icons">expand_less</i> Hide Filters
              <div class="ripple-container"></div>
            </a>
          </span>
      </div>
    </div>
  </div>

</div>
