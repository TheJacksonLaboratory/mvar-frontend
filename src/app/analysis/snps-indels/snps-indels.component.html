<div class="main-content">
  <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">

          <div class="card">
            <!--card header-->
              <!--<div class="card-header card-header-tabs card-header-primary">-->
                <!--<h6>Mouse SNPs and Indels</h6>-->

                <!--<app-search-criteria-box searchType="variant" [searchCriteria]="currSearchParams" (searchCriteriaChange)="onSearchCriteriaChange($event)"></app-search-criteria-box>-->
              <!--</div>-->


            <!--Card Body-->
              <div class="card-body table-responsive">

                <span class="pull-right">
                              <a mat-button class="nav-link active" (click)="exportCSV()">
                                                  <i class="material-icons">import_export</i> Export Results To CSV File
                                                  <div class="ripple-container"></div>
                              </a>
                              <a mat-button class="nav-link active" (click)="showFilters()">
                                                  <i class="material-icons">filter_list</i> Show Filters
                                                  <div class="ripple-container"></div>
                              </a>
                              <a mat-button class="nav-link active" (click)="openHelpDialog()">
                                                <i class="material-icons">help_outline</i> Help
                                                <div class="ripple-container"></div>
                              </a>
                </span>
                <app-search-criteria-box searchType="variant"
                                         [searchCriteria]="currSearchParams"
                                         (searchCriteriaChange)="onSearchCriteriaChange($event)"
                                         [(showVarFilters)]="showVarFilters">
                </app-search-criteria-box>

                  <table #varTable mat-table class="table-hover" [dataSource]="varDataSource" matSort multiTemplateDataRows>

                    <!-- Name Column -->
                    <ng-container matColumnDef="symbol">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Gene </th>
                      <td mat-cell *matCellDef="let element"> {{element.gene.symbol}} </td>
                    </ng-container>

                    <!-- Chormosome Column -->
                    <ng-container matColumnDef="chr">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Chromosome </th>
                      <td mat-cell *matCellDef="let element"> {{element.chr}} </td>
                    </ng-container>

                    <!-- Position Column -->
                    <ng-container matColumnDef="pos">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Position </th>
                      <td mat-cell *matCellDef="let element"> {{element.pos}} </td>
                    </ng-container>

                    <!--&lt;!&ndash; External id Column &ndash;&gt;-->
                    <!--<ng-container matColumnDef="dbSNPId">-->
                      <!--<th mat-header-cell *matHeaderCellDef> External ID </th>-->
                      <!--<td mat-cell *matCellDef="let element"> {{element.dbSNPId}} </td>-->
                    <!--</ng-container>-->

                    <!-- Ref Allele Column -->
                    <ng-container matColumnDef="ref">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Ref Allele </th>
                      <td mat-cell *matCellDef="let element"> {{element.ref}} </td>
                    </ng-container>

                    <!-- Alt Allele Column -->
                    <ng-container matColumnDef="alt">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Alt Allele </th>
                      <td mat-cell *matCellDef="let element"> {{element.alt}} </td>
                    </ng-container>

                    <!-- Type Column -->
                    <ng-container matColumnDef="type">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Type </th>
                      <td mat-cell *matCellDef="let element"> {{element.type}} </td>
                    </ng-container>

                     <!--Filter Column -->
                    <ng-container matColumnDef="filter">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Filter </th>
                      <td mat-cell *matCellDef="let element"> {{element.filter}} </td>
                    </ng-container>

                    <!-- Impact Column -->
                    <ng-container matColumnDef="snpEffImpact">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Impact </th>
                      <td mat-cell *matCellDef="let element"> {{element.snpEffImpact}} </td>
                    </ng-container>

                    <!-- Filter Column -->
                    <ng-container matColumnDef="snpEffFunctionalClass">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Functional Class</th>
                      <td mat-cell *matCellDef="let element"> {{element.snpEffFunctionalClass}} </td>
                    </ng-container>

                    <!-- Filter Column -->
                    <ng-container matColumnDef="varFreq">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Prop. Occurrence</th>
                      <td mat-cell *matCellDef="let element"> {{element.varFreq}} </td>
                    </ng-container>

                    <!-- Filter Column -->
                    <ng-container matColumnDef="mutantCandidate">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Mut. Candidate </th>
                      <td mat-cell *matCellDef="let element">{{(element.mutantCandidate === 'Y')?'Yes':'Unknown'}} </td>
                    </ng-container>

                    <!-- Filter Column -->
                    <ng-container matColumnDef="sampleId">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Sample Id </th>
                      <td mat-cell *matCellDef="let element"> {{element.sample.sampleId}} </td>
                    </ng-container>

                    <!-- # samples with this variation -->
                    <!--<ng-container matColumnDef="sampleCount">-->
                      <!--<th mat-header-cell *matHeaderCellDef>Samples</th>-->
                      <!--<td mat-cell *matCellDef="let element"> {{element.sampleCount}} </td>-->
                    <!--</ng-container>-->


                    <!-- Mutant Candidate -->
                    <ng-container matColumnDef="candidate">
                      <th mat-header-cell *matHeaderCellDef>Candidate Mutation</th>
                      <td mat-cell *matCellDef="let element"> {{element.candidate}} </td>
                    </ng-container>



                    <ng-container matColumnDef="expandedDetail">
                      <td mat-cell *matCellDef="let element" [attr.colspan]="displayedColumns.length">
                        <div *ngIf="element === expandedElement" class="example-element-detail"
                             [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
                          <div style="width: 100%">
                            <app-snp-indel-details [variant]="element"></app-snp-indel-details>
                          </div>
                        </div>
                      </td>
                    </ng-container>

                    <tr mat-row *matRowDef="let element; columns: displayedColumns;"
                        class="example-element-row"
                        [class.example-expanded-row]="expandedElement === element"
                        (click)="expandCollapse(element)">
                    </tr>

                    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>

                  </table>

                  <mat-paginator #varPaginator [length]="pageLength"
                                 [pageSize]="pageSize"
                                 [pageSizeOptions]="pageSizeOptions"
                                 (page)="doPageChange($event)">
                  </mat-paginator>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
